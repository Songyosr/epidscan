% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_population.R
\name{process_population}
\alias{process_population}
\title{Process Population Data Module - Refactored}
\usage{
process_population(
  years,
  output_dir,
  mode = "simple",
  spatial_extent = NULL,
  case_data = NULL,
  age_breaks = c(0, 15, 60, Inf),
  age_labels = c("0-14", "15-59", "60+"),
  year_select_fn = NULL,
  cache_dir = "data/population_cache"
)
}
\arguments{
\item{years}{Numeric vector of years to load from cache}

\item{output_dir}{Output directory for processed files}

\item{mode}{Analysis mode: "simple" or "stratified"}

\item{spatial_extent}{Province codes vector or NULL (auto-detect from cases)}

\item{case_data}{Case data for auto-detection & majorityvote (optional)}

\item{age_breaks}{Age group breaks for stratified mode (default: c(0,15,60,Inf))}

\item{age_labels}{Labels for age groups (default: c("0-14", "15-59", "60+"))}

\item{year_select_fn}{User function for year selection (optional placeholder)}

\item{cache_dir}{Cache directory path (default: "data/population_cache")}
}
\value{
List with paths to output files
}
\description{
Processes population data for SatScan analysis using modular helper functions.
Assumes population cache exists (use download_population_cache.R to create).
}
\examples{
# Simple mode with auto-detection
process_population(
    years = 2023:2025,
    output_dir = "data/derived",
    mode = "simple",
    case_data = "data/cases_prepared.rds"
)

# Stratified mode with specific provinces
process_population(
    years = 2025,
    output_dir = "data/derived",
    mode = "stratified",
    spatial_extent = c("90", "91")
)

}
