% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ss_tbl.R
\name{ss_geo}
\alias{ss_geo}
\title{Coerce Data to SaTScan Coordinates Table}
\usage{
ss_geo(
  data,
  loc_id,
  coord1 = NULL,
  coord2 = NULL,
  z = NULL,
  coord_type = c("auto", "latlong", "cartesian")
)
}
\arguments{
\item{data}{A data frame or \code{sf} object containing coordinate data.}

\item{loc_id}{Column name for location ID.}

\item{coord1}{Column name for the first coordinate (X/Longitude), required if \code{data} is not \code{sf}.}

\item{coord2}{Column name for the second coordinate (Y/Latitude), required if \code{data} is not \code{sf}.}

\item{z}{Optional column name for altitude/Z-coordinate.}

\item{coord_type}{Coordinate system: "auto" (default), "latlong", or "cartesian".}
}
\value{
An \code{ss_tbl} object of type "geo".
}
\description{
Creates an \code{ss_tbl} object of type \code{"geo"} (SaTScan Coordinates File).
A coordinates file defines the spatial location of each analysis unit,
and SaTScan uses these locations to compute distances and to construct
circular/elliptic scanning windows. Coordinates may be provided in
latitude/longitude or Cartesian units; the required output column order
differs between these coordinate types.

If \code{data} is an \code{sf} object, this function extracts feature centroids and
maps them to SaTScanâ€™s expected coordinate order (Lat, Long for lat/long
CRS; X, Y for projected CRS). If \code{data} is a plain data frame, it records
the user-supplied coordinate columns and (when \code{coord_type = "auto"})
applies a simple heuristic to infer lat/long vs Cartesian. No projection
or coordinate transformation is performed.
}
\section{SaTScan File Specification}{

The Coordinates File has the following structure:
\code{<LocationID> <Latitude/Y> <Longitude/X>}

\itemize{
\item \strong{LocationID}: Unique identifier matching Case/Population files.
\item \strong{Coordinate Order}:
\itemize{
\item \strong{Lat/Long}: SaTScan expects \code{Latitude} first, then \code{Longitude}.
\item \strong{Cartesian}: SaTScan expects \code{X} first, then \code{Y}.
}
}

\strong{Note on Coordinate Ordering}:
This function automatically handles the swapping for you:
\itemize{
\item If \code{sf} object (Lat/Long crs) -> Swaps to \code{Lat, Long}.
\item If \code{data.frame} (Lat/Long detected) -> Swaps to \code{Lat, Long}.
\item If \code{data.frame} (Cartesian detected) -> Keeps as \code{X, Y}.
}
}

